(this["webpackJsonpchat-online"]=this["webpackJsonpchat-online"]||[]).push([[0],{83:function(e,n,t){"use strict";t.r(n);var r,o,c,i,a,s,l,d,u,b,h,p=t(23),m=t(21),j=Object(m.b)(r||(r=Object(p.a)(["\n    html {\n        font-family: Arial, Helvetica, sans-serif;\n    }\n    body {\n        margin: 0;\n        padding: 0;\n        overflow: hidden;\n        min-height: 100vh;\n        color: ",";\n        background-color: ",";\n    }\n    *, *::after, *::before {\n        box-sizing: border-box;\n    }\n"])),(function(e){return e.theme.color.primary}),(function(e){return e.theme.color.secondaryDarken})),f={color:{primary:"hsl(60, 60%, 70%)",primaryDarken:"hsl(60, 60%, 50%)",secondary:"hsl(220, 30%, 40%)",secondaryDarken:"hsl(220, 30%, 25%)"}},x=t(19),g=t(48),O=(t(74),t(75),g.a.initializeApp({apiKey:"AIzaSyBB-KzIY6M-PIhaADR1r7HCsd5DGjEKGSI",authDomain:"chat-online-e63c5.firebaseapp.com",projectId:"chat-online-e63c5",storageBucket:"chat-online-e63c5.appspot.com",messagingSenderId:"647683065397",appId:"1:647683065397:web:4b4e6d29e541f43fcc537c"})),y=O.auth(),w=O.firestore(),v=g.a,k=t(1),S=t.n(k),D=t(9),I=S.a.createContext({}),E=function(){var e=Object(k.useContext)(I);return e||console.error("Ooops! Something went wrong!")},A=function(e){var n=e.children,t=Object(k.useState)(null),r=Object(x.a)(t,2),o=r[0],c=r[1],i=Object(k.useState)(!0),a=Object(x.a)(i,2),s=a[0],l=a[1];Object(k.useEffect)((function(){return l(!0),y.onAuthStateChanged((function(e){c(e),l(!1)}))}),[]);var d={currentUser:o,signIn:function(e,n){return y.signInWithEmailAndPassword(e,n)},signInWithGoogle:function(){var e=new v.auth.GoogleAuthProvider;y.signInWithPopup(e)},signOut:function(){return y.signOut()}};return Object(D.jsx)(I.Provider,{value:d,children:s?Object(D.jsx)("p",{children:"Loading..."}):n})},C=function(e){var n=e.children;return Object(D.jsx)(A,{children:Object(D.jsxs)(m.a,{theme:f,children:[Object(D.jsx)(j,{}),n]})})},M=t(16),P=t.n(M),G=t(43),B=t(10),L=t.n(B),T=t(22),q=t(49),z=t(113),H=Object(m.c)(z.a)(o||(o=Object(p.a)(["\n  label {\n    color: "," !important;\n    &.Mui-focused {\n      color: "," !important;\n    }\n  }\n  div {\n    &::before {\n      border-bottom: 1px solid "," !important;\n    }\n    &::after {\n      border-bottom: 2px solid "," !important;\n    }\n    &:hover {\n      &::before {\n        border-bottom: 2px solid "," !important;\n      }\n    }\n  }\n  input {\n    color: white;\n  }\n"])),(function(e){return e.theme.color.primary}),(function(e){return e.theme.color.primaryDarken}),(function(e){return e.theme.color.secondaryDarken}),(function(e){return e.theme.color.primary}),(function(e){return e.theme.color.secondaryDarken})),U=t(114),W=Object(m.c)(U.a)(c||(c=Object(p.a)(["\n  color: "," !important;\n"])),(function(e){var n=e.isDark,t=e.theme;return n?t.color.secondaryDarken:t.color.primary})),K=m.c.div(i||(i=Object(p.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),R=m.c.form(a||(a=Object(p.a)(["\n  width: 100%;\n  max-width: 500px;\n  border-radius: 10px;\n  box-shadow: 0 5px 20px -11px black;\n  background-color: ",";\n  padding: 10px 15px;\n  display: flex;\n  flex-direction: column;\n  .MuiFormControl-root {\n    margin-block: 10px;\n  }\n  button {\n    margin-top: 20px;\n  }\n"])),(function(e){return e.theme.color.secondary})),Y=m.c.div(s||(s=Object(p.a)(["\n  width: 700px;\n  height: 500px;\n  border-radius: 10px;\n  box-shadow: 0 5px 20px -11px black;\n  background-color: ",";\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  & > * {\n    width: 100%;\n  }\n"])),(function(e){return e.theme.color.secondary})),J=m.c.div(l||(l=Object(p.a)(["\n  border-top: 4px solid white;\n  background-color: ",";\n  height: 75%;\n  border-radius: 0 0 10px 10px;\n  padding: 10px 20px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  &::-webkit-scrollbar {\n    width: 10px;\n    background-color: hsl(220, 30%, 20%);\n    border-radius: 0 0 10px 0;\n  }\n  &::-webkit-scrollbar-thumb {\n    background: ",";\n  }\n"])),(function(e){return e.theme.color.secondaryDarken}),(function(e){return e.theme.color.primary})),F=m.c.form(d||(d=Object(p.a)(["\n  height: 15%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),N=m.c.div(u||(u=Object(p.a)(["\n  height: 10%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),Q=Object(m.d)(b||(b=Object(p.a)(["\n    from {\n        opacity: 0;\n        transform: translateY(-150%);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0%);\n    }\n"]))),V=m.c.p(h||(h=Object(p.a)(["\n  color: hsl(0, 70%, 60%);\n  animation: "," 1.5s forwards;\n"])),Q),X=function(){var e=Object(k.useState)(),n=Object(x.a)(e,2),t=n[0],r=n[1],o=E(),c=o.currentUser,i=o.signOut,a=Object(q.a)(),s=a.register,l=a.handleSubmit,d=a.formState.errors,u=S.a.useRef(null);Object(k.useEffect)((function(){w.collection("messages").orderBy("time","asc").onSnapshot((function(e){u.current.innerHTML="",e.forEach((function(e){!function(e){var n=e.nick,t=e.message;u.current.innerHTML+='<div style="color: black; display: flex; align-items: flex-start; padding: 7px 12px; background: white; border-radius: 10px; width: fit-content; flex-direction: column; max-width: 90%; margin: 15px 0;"><b>'.concat(n,"</b><span>").concat(t,"</span></div>")}(e.data())}))}))}),[]),Object(k.useEffect)((function(){var e=c.email.split("@")[0];r(e)}),[c]);var b=function(){var e=Object(T.a)(L.a.mark((function e(n){var r,o;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.message,o=(new Date).getTime(),e.next=4,w.collection("messages").doc().set({nick:t,message:r,time:o});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(D.jsx)(K,{children:Object(D.jsxs)(Y,{children:[Object(D.jsxs)(N,{children:[Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{style:{color:"#fff"},children:"User:"})," ",t]}),Object(D.jsx)("p",{style:{cursor:"pointer"},onClick:i,children:"Log out"})]}),Object(D.jsx)(J,{ref:u}),Object(D.jsxs)(F,{onSubmit:l(b),children:[Object(D.jsx)(H,Object(G.a)({style:{width:"70%",marginRight:"20px"},variant:"outlined",placeholder:d.message?"Type something to send message!":"Type something...",id:"message"},s("message",{required:!0}))),Object(D.jsx)(W,{style:{width:"30%"},variant:"contained",type:"submit",isDark:!0,children:"Send Message"})]})]})})},Z=function(){var e=Object(q.a)(),n=e.register,t=e.handleSubmit,r=e.formState.errors,o=E(),c=o.signIn,i=o.signInWithGoogle,a=Object(k.useState)(),s=Object(x.a)(a,2),l=s[0],d=s[1],u=function(){var e=Object(T.a)(L.a.mark((function e(n){var t,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.email,r=n.password,d(null),e.prev=2,e.next=5,c(t,r);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),d(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(n){return e.apply(this,arguments)}}();return Object(D.jsx)(K,{children:Object(D.jsxs)(R,{onSubmit:t(u),children:[Object(D.jsx)(H,Object(G.a)({id:"email",label:"Email",placeholder:"example@domain.com"},n("email",{required:!0}))),r.email&&Object(D.jsx)(V,{children:"Email is required."}),Object(D.jsx)(H,Object(G.a)({id:"password",label:"Password",type:"password"},n("password",{required:!0,minLength:8}))),r.password&&Object(D.jsx)(V,{children:"Password should have at least 8 characters."}),l&&Object(D.jsx)(V,{children:l}),Object(D.jsx)(W,{variant:"outlined",type:"submit",children:"Sign in"}),Object(D.jsx)(W,{variant:"outlined",onClick:i,children:"Sign in with Google"})]})})},$=function(){return E().currentUser?Object(D.jsx)(X,{}):Object(D.jsx)(Z,{})};P.a.render(Object(D.jsx)(S.a.StrictMode,{children:Object(D.jsx)(C,{children:Object(D.jsx)($,{})})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.42b67ab7.chunk.js.map
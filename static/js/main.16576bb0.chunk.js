(this["webpackJsonpchat-online"]=this["webpackJsonpchat-online"]||[]).push([[0],{93:function(e,n,t){"use strict";t.r(n);var r,c,o,a,i,s,l,d,u,b,j,p,h,m,x,O,f,g,w=t(16),v=t(14),y=Object(v.b)(r||(r=Object(w.a)(["\n    html {\n        font-family: Arial, Helvetica, sans-serif;\n    }\n    body {\n        margin: 0;\n        padding: 0;\n        overflow: hidden;\n        min-height: 100vh;\n        color: ",";\n        background-color: ",";\n    }\n    *, *::after, *::before {\n        box-sizing: border-box;\n    }\n"])),(function(e){return e.theme.color.primary}),(function(e){return e.theme.color.secondaryDarken})),k={color:{primary:"hsl(60, 60%, 70%)",primaryDarken:"hsl(60, 60%, 50%)",secondary:"hsl(220, 30%, 40%)",secondaryDarken:"hsl(220, 30%, 25%)"}},S=t(15),D=t(56),I=(t(81),t(82),D.a.initializeApp({apiKey:"AIzaSyBB-KzIY6M-PIhaADR1r7HCsd5DGjEKGSI",authDomain:"chat-online-e63c5.firebaseapp.com",projectId:"chat-online-e63c5",storageBucket:"chat-online-e63c5.appspot.com",messagingSenderId:"647683065397",appId:"1:647683065397:web:4b4e6d29e541f43fcc537c"})),E=I.auth(),P=I.firestore(),C=D.a,A=t(1),G=t.n(A),M=t(6),R=G.a.createContext({}),q=function(){var e=Object(A.useContext)(R);return e||console.error("Ooops! Something went wrong!")},z=function(e){var n=e.children,t=Object(A.useState)(null),r=Object(S.a)(t,2),c=r[0],o=r[1],a=Object(A.useState)(!0),i=Object(S.a)(a,2),s=i[0],l=i[1];Object(A.useEffect)((function(){return l(!0),E.onAuthStateChanged((function(e){o(e),l(!1)}))}),[]);var d={currentUser:c,signIn:function(e,n){return E.signInWithEmailAndPassword(e,n)},signInWithGoogle:function(){var e=new C.auth.GoogleAuthProvider;E.signInWithPopup(e)},resetPassword:function(e){return E.sendPasswordResetEmail(e)},signOut:function(){return E.signOut()}};return Object(M.jsx)(R.Provider,{value:d,children:s?Object(M.jsx)("p",{children:"Loading..."}):n})},T=t(45),B=G.a.createContext({}),L=function(e){var n=e.children,t=Object(A.useState)(null),r=Object(S.a)(t,2),c=r[0],o=r[1],a={error:c,dispatchError:function(e){o(e),setTimeout((function(){o(null)}),8e3)}};return Object(M.jsx)(B.Provider,{value:a,children:n})},W=function(e){var n=e.children;return Object(M.jsx)(T.a,{basename:"/",children:Object(M.jsx)(L,{children:Object(M.jsx)(z,{children:Object(M.jsxs)(v.a,{theme:k,children:[Object(M.jsx)(y,{}),n]})})})})},H=t(19),U=t.n(H),Y=t(38),K=t(10),F=t.n(K),J=t(24),N=t(41),Q=t(123),V=Object(v.c)(Q.a)(c||(c=Object(w.a)(["\n  label {\n    color: "," !important;\n    &.Mui-focused {\n      color: "," !important;\n    }\n  }\n  div {\n    &::before {\n      border-bottom: 1px solid "," !important;\n    }\n    &::after {\n      border-bottom: 2px solid "," !important;\n    }\n    &:hover {\n      &::before {\n        border-bottom: 2px solid "," !important;\n      }\n    }\n  }\n  input {\n    color: white;\n  }\n"])),(function(e){return e.theme.color.primary}),(function(e){return e.theme.color.primaryDarken}),(function(e){return e.theme.color.secondaryDarken}),(function(e){return e.theme.color.primary}),(function(e){return e.theme.color.secondaryDarken})),X=t(124),Z=Object(v.c)(X.a)(o||(o=Object(w.a)(["\n  color: "," !important;\n"])),(function(e){var n=e.isDark,t=e.theme;return n?t.color.secondaryDarken:t.color.primary})),$=t(21),_=v.c.div(a||(a=Object(w.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),ee=v.c.form(i||(i=Object(w.a)(["\n  width: 100%;\n  max-width: 500px;\n  border-radius: 10px;\n  box-shadow: 0 5px 20px -11px black;\n  background-color: ",";\n  padding: 10px 15px;\n  display: flex;\n  flex-direction: column;\n  .MuiFormControl-root {\n    margin-block: 10px;\n  }\n  button {\n    margin-top: 20px;\n  }\n"])),(function(e){return e.theme.color.secondary})),ne=v.c.div(s||(s=Object(w.a)(["\n  width: 700px;\n  height: 500px;\n  border-radius: 10px;\n  box-shadow: 0 5px 20px -11px black;\n  background-color: ",";\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  & > * {\n    width: 100%;\n  }\n"])),(function(e){return e.theme.color.secondary})),te=v.c.div(l||(l=Object(w.a)(["\n  border-top: 4px solid white;\n  background-color: ",";\n  height: 75%;\n  border-radius: 0 0 10px 10px;\n  padding: 10px 20px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  &::-webkit-scrollbar {\n    width: 10px;\n    background-color: hsl(220, 30%, 20%);\n    border-radius: 0 0 10px 0;\n  }\n  &::-webkit-scrollbar-thumb {\n    background: ",";\n  }\n"])),(function(e){return e.theme.color.secondaryDarken}),(function(e){return e.theme.color.primary})),re=v.c.form(d||(d=Object(w.a)(["\n  height: 15%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),ce=v.c.div(u||(u=Object(w.a)(["\n  height: 10%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),oe=Object(v.d)(b||(b=Object(w.a)(["\n    from {\n        opacity: 0;\n        transform: translateY(-150%);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0%);\n    }\n"]))),ae=v.c.p(j||(j=Object(w.a)(["\n  color: hsl(0, 70%, 60%);\n  animation: "," 1.5s forwards;\n"])),oe),ie=v.c.h2(p||(p=Object(w.a)(["\n  color: white;\n  margin: 0;\n  margin-top: 15px;\n  font-size: 25px;\n"]))),se=Object(v.c)(T.b)(h||(h=Object(w.a)(["\n  text-align: center;\n  margin-top: 20px;\n  color: White;\n  cursor: pointer;\n"]))),le=function(){var e=Object(N.a)(),n=e.register,t=e.handleSubmit,r=e.formState.errors,c=q().resetPassword,o=Object(A.useState)(),a=Object(S.a)(o,2),i=a[0],s=a[1],l=function(){var e=Object(J.a)(F.a.mark((function e(n){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.email,s(null),e.prev=2,e.next=5,c(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),s(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(n){return e.apply(this,arguments)}}();return Object(M.jsx)(_,{children:Object(M.jsxs)(ee,{onSubmit:t(l),children:[Object(M.jsx)(ie,{children:"Reset passsword"}),Object(M.jsx)(V,Object(Y.a)({id:"email",label:"Email",placeholder:"Your account email address"},n("email",{required:!0}))),r.email&&Object(M.jsx)(ae,{children:"Email is required."}),i&&Object(M.jsx)(ae,{children:i}),Object(M.jsx)(Z,{variant:"outlined",type:"submit",children:"Reset password"}),Object(M.jsx)(se,{to:"/",children:"Remember password?"})]})})},de=function(){var e=Object(N.a)(),n=e.register,t=e.handleSubmit,r=e.formState.errors,c=q(),o=c.signIn,a=c.signInWithGoogle,i=Object(A.useState)(),s=Object(S.a)(i,2),l=s[0],d=s[1],u=function(){var e=Object(J.a)(F.a.mark((function e(n){var t,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.email,r=n.password,d(null),e.prev=2,e.next=5,o(t,r);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),d(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(n){return e.apply(this,arguments)}}();return Object(M.jsx)(_,{children:Object(M.jsxs)(ee,{onSubmit:t(u),children:[Object(M.jsx)(ie,{children:"Sign in"}),Object(M.jsx)(V,Object(Y.a)({id:"email",label:"Email",placeholder:"example@domain.com"},n("email",{required:!0}))),r.email&&Object(M.jsx)(ae,{children:"Email is required."}),Object(M.jsx)(V,Object(Y.a)({id:"password",label:"Password",type:"password"},n("password",{required:!0,minLength:8}))),r.password&&Object(M.jsx)(ae,{children:"Password should have at least 8 characters."}),l&&Object(M.jsx)(ae,{children:l}),Object(M.jsx)(Z,{variant:"outlined",type:"submit",children:"Sign in"}),Object(M.jsx)(se,{to:"/reset/",children:"Don't remeber password?"}),Object(M.jsx)(Z,{variant:"outlined",onClick:a,children:"Sign in with Google"})]})})},ue=Object(v.d)(m||(m=Object(w.a)(["\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n"]))),be=Object(v.d)(x||(x=Object(w.a)(["\n    from {\n        opacity: 1;\n    } to {\n        opacity: 0;\n    }\n"]))),je=v.c.div(O||(O=Object(w.a)(["\n  width: 400px;\n  height: 150px;\n  background: transparent;\n  position: absolute;\n  right: 25px;\n  bottom: 15px;\n  border: 5px solid hsl(0, 90%, 60%);\n  border-radius: 15px;\n  padding: 15px 20px;\n  animation: "," 2s forwards, "," 1s 6s forwards;\n"])),ue,be),pe=v.c.h3(f||(f=Object(w.a)(["\n  color: hsl(0, 90%, 60%);\n  font-size: 25px;\n  margin: 0;\n  padding-bottom: 10px;\n  border-bottom: 4px solid hsl(0, 90%, 60%);\n"]))),he=v.c.p(g||(g=Object(w.a)(["\n  margin: 0;\n  margin-top: 10px;\n  color: hsl(0, 90%, 60%);\n"]))),me=function(e){var n=e.message;return Object(M.jsxs)(je,{children:[Object(M.jsx)(pe,{children:"Ooops!"}),Object(M.jsx)(he,{children:n})]})},xe=function(){var e=Object(A.useState)(),n=Object(S.a)(e,2),t=n[0],r=n[1],c=q(),o=c.currentUser,a=c.signOut,i=Object(N.a)(),s=i.register,l=i.handleSubmit,d=i.formState.errors,u=G.a.useRef(null);Object(A.useEffect)((function(){P.collection("messages").orderBy("time","asc").onSnapshot((function(e){u.current.innerHTML="",e.forEach((function(e){!function(e){var n=e.nick,t=e.message;u.current.innerHTML+='<div style="color: black; display: flex; align-items: flex-start; padding: 7px 12px; background: white; border-radius: 10px; width: fit-content; flex-direction: column; max-width: 90%; margin: 15px 0;"><b>'.concat(n,"</b><span>").concat(t,"</span></div>")}(e.data())}))}))}),[]),Object(A.useEffect)((function(){var e=o.email.split("@")[0];r(e)}),[o]);var b=function(){var e=Object(J.a)(F.a.mark((function e(n){var r,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.message,c=(new Date).getTime(),e.next=4,P.collection("messages").doc().set({nick:t,message:r,time:c});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(M.jsx)(_,{children:Object(M.jsxs)(ne,{children:[Object(M.jsxs)(ce,{children:[Object(M.jsxs)("p",{children:[Object(M.jsx)("b",{style:{color:"#fff"},children:"User:"})," ",t]}),Object(M.jsx)("p",{style:{cursor:"pointer"},onClick:a,children:"Log out"})]}),Object(M.jsx)(te,{ref:u}),Object(M.jsxs)(re,{onSubmit:l(b),children:[Object(M.jsx)(V,Object(Y.a)({style:{width:"70%",marginRight:"20px"},variant:"outlined",placeholder:d.message?"Type something to send message!":"Type something...",id:"message"},s("message",{required:!0}))),Object(M.jsx)(Z,{style:{width:"30%"},variant:"contained",type:"submit",isDark:!0,children:"Send Message"})]})]})})},Oe=function(){return Object(M.jsxs)($.c,{children:[Object(M.jsx)($.a,{exact:!0,path:"/",children:Object(M.jsx)(de,{})}),Object(M.jsx)($.a,{path:"/reset/",children:Object(M.jsx)(le,{})})]})},fe=function(){var e=q().currentUser,n=function(){var e=Object(A.useContext)(B);return e||console.error("Global error service isn't working! Contact with support!"),e}().error;return Object(M.jsxs)(M.Fragment,{children:[e?Object(M.jsx)(xe,{}):Object(M.jsx)(Oe,{}),n?Object(M.jsx)(me,{message:n}):null]})};U.a.render(Object(M.jsx)(G.a.StrictMode,{children:Object(M.jsx)(W,{children:Object(M.jsx)(fe,{})})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.16576bb0.chunk.js.map